<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Calming Sounds</title>
<link rel="icon" href="https://cdn.discordapp.com/emojis/1406933350140215346.png?size=160" type="image/png">
<style>
    body {
        background: #ffe6f7;
        font-family: sans-serif;
        text-align: center;
        padding: 40px;
        color: #333;
    }
    h1 {
        font-size: 28px;
        margin-bottom: 20px;
    }
    .btn {
        display: block;
        width: 220px;
        margin: 12px auto;
        padding: 14px;
        border-radius: 12px;
        background: #ffbdea;
        border: none;
        cursor: pointer;
        font-size: 18px;
        transition: 0.25s;
    }
    .btn:hover {
        background: #ffc8ef;
        transform: scale(1.04);
    }
    #volumeContainer {
        margin-top: 20px;
        text-align: center;
    }
    #volumeSlider {
        width: 250px;
    }
</style>
</head>
<body>

<h1>Calming Sounds</h1>

<button class="btn" onclick="toggleSound('rain')">Rain</button>
<button class="btn" onclick="toggleSound('ocean')">Ocean Waves</button>
<button class="btn" onclick="toggleSound('fire')">Fireplace</button>
<button class="btn" onclick="toggleSound('thunder')">Thunder</button>

<button class="btn" onclick="stopAll()">Stop All</button>

<div id="volumeContainer">
    <label for="volumeSlider">Volume Slider</label><br>
    <input type="range" id="volumeSlider" min="25" max="100" value="25">
    <span id="volumeValue">100%</span>
</div>

<script>
/* --- Audio files in /audio folder --- */
const sounds = {
    rain: new Audio("/audio/rain.wav"),
    ocean: new Audio("/audio/ocean.wav"),
    fire: new Audio("/audio/fire.wav"),
    thunder: new Audio("/audio/thunder.wav")
};

/* loop all sounds */
for (let key in sounds) {
    sounds[key].loop = true;
    sounds[key].volume = 1; // base 100%
}

let playing = null;

function toggleSound(name) {
    if (playing === name) {
        sounds[name].pause();
        sounds[name].currentTime = 0;
        playing = null;
        document.title = "Calming Sounds";
        return;
    }
    stopAll();
    sounds[name].play();
    playing = name;
    document.title = capitalize(name) + " Sounds";
}

function stopAll() {
    for (let key in sounds) {
        sounds[key].pause();
        sounds[key].currentTime = 0;
    }
    playing = null;
    document.title = "Calming Sounds";
}

// helper to capitalize first letter
function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
}

/* --- Volume slider --- */
const slider = document.getElementById('volumeSlider');
const volumeDisplay = document.getElementById('volumeValue');

slider.addEventListener('input', () => {
    // Slider min = 25 (visual start) = 100% volume
    // Map 25–100 slider to 1–(max multiplier)
    const multiplier = slider.value / 25; // 25 → 1, 100 → 4
    volumeDisplay.textContent = Math.round(multiplier * 100) + "%";
    for (let key in sounds) {
        sounds[key].volume = multiplier; // adjust volume multiplier
    }
});
</script>

</body>
</html>
