<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Femboy Survey</title>
<style>
body {
  background:#36393f;
  color:white;
  font-family:sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  margin:0;
  flex-direction:column;
}

#quizContainer {
  background:#2f3136;
  padding:25px;
  border-radius:16px;
  max-width:600px;
  width:90%;
}

.question {
  margin-bottom:20px;
  font-size:18px;
}

.options button {
  margin:5px;
  padding:10px 15px;
  cursor:pointer;
  border-radius:8px;
  border:none;
  background:#f5aee0; /* pastel pink */
  color:#333;
  font-weight:bold;
  transition: all 0.2s;
}

.options button:hover {
  transform: scale(1.05);
  background:#f0a3d9;
}

#nextBtn {
  margin-top:20px;
  padding:12px 18px;
  cursor:pointer;
  border-radius:8px;
  border:none;
  background:#f5aee0;
  color:#333;
  font-weight:bold;
}

#nextBtn:hover {
  transform: scale(1.05);
  background:#f0a3d9;
}

#questionCounter {
  margin-top:10px;
  font-size:14px;
  color:#aaa;
}

#resultsContainer {
  text-align:center;
  background:#2f3136;
  color:#fff;
  padding:25px;
  border-radius:16px;
  max-width:600px;
  width:90%;
}

#resultsContainer small {
  display:block;
  margin-top:10px;
  color:#aaa;
}
</style>
</head>
<body>

<div id="quizContainer">
  <div id="questionText" class="question"></div>
  <div id="options" class="options"></div>
  <div id="questionCounter"></div>
  <button id="nextBtn">Next</button>
</div>

<div id="resultsContainer" style="display:none;">
  <h2>Your Femboy Results!</h2>
  <p id="cuteness"></p>
  <p id="hornyness"></p>
  <p id="softness"></p>
  <p id="fluffiness"></p>
  <p id="sassiness"></p>
  <p id="playfulness"></p>
  <p id="sexuality"></p>
  <small>Sexuality is most likely going to be incorrect.</small>
</div>

<script type="module">
import { sendToWebhook } from './utils/sendWebhook.js'; // adjust path if needed

// 20 questions with varied answers including "I don't know"
const questions = [
  { q: "Do you enjoy pastel clothing?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you like dressing cute?", a: [{text:"Absolutely", val:1},{text:"Sometimes", val:0.5},{text:"Not really", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy playful teasing?", a: [{text:"Yes", val:1},{text:"Rarely", val:0.3},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you like skirts or dresses?", a: [{text:"Yes", val:1},{text:"Occasionally", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy accessorizing with cute things?", a: [{text:"Love it", val:1},{text:"Sometimes", val:0.5},{text:"Not really", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you blush easily?", a: [{text:"Always", val:1},{text:"Sometimes", val:0.5},{text:"Rarely", val:0.3},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy soft fabrics?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy anime or cute media?", a: [{text:"Yes", val:1},{text:"Occasionally", val:0.5},{text:"Not really", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy gentle affection?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"Not really", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you like playful nicknames?", a: [{text:"Love them", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you like pastel hairstyles?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy soft-spoken tones?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy plushies or cute collectibles?", a: [{text:"Love them", val:1},{text:"Sometimes", val:0.5},{text:"Not really", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you like pastel makeup or eyeliner?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy soft, gentle music?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy cuddling or gentle hugs?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you like being called cute?", a: [{text:"Love it", val:1},{text:"Sometimes", val:0.5},{text:"Not really", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy pastel nails or nail art?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy being playful in conversations?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"Rarely", val:0.3},{text:"I don't know", val:0.5}] },
  { q: "Do you enjoy dressing both masculine and feminine styles?", a: [{text:"Yes", val:1},{text:"Sometimes", val:0.5},{text:"No", val:0},{text:"I don't know", val:0.5}] }
];

let currentQ = 0;
let scores = { cuteness:0, hornyness:0, softness:0, fluffiness:0, sassiness:0, playfulness:0 };

const questionText = document.getElementById("questionText");
const optionsDiv = document.getElementById("options");
const nextBtn = document.getElementById("nextBtn");
const counterDiv = document.getElementById("questionCounter");
const quizContainer = document.getElementById("quizContainer");
const resultsContainer = document.getElementById("resultsContainer");

function showQuestion() {
  const q = questions[currentQ];
  questionText.textContent = q.q;
  optionsDiv.innerHTML = "";
  q.a.forEach((opt, idx) => {
    const btn = document.createElement("button");
    btn.textContent = opt.text;
    btn.onclick = () => recordAnswer(idx);
    optionsDiv.appendChild(btn);
  });
  counterDiv.textContent = `Question ${currentQ+1} of ${questions.length}`;
}

function recordAnswer(optionIdx) {
  const val = questions[currentQ].a[optionIdx].val;
  scores.cuteness += val * Math.random();
  scores.hornyness += val * Math.random();
  scores.softness += val * Math.random();
  scores.fluffiness += val * Math.random();
  scores.sassiness += val * Math.random();
  scores.playfulness += val * Math.random();

  currentQ++;
  if(currentQ < questions.length) showQuestion();
  else showResults();
}

function showResults() {
  quizContainer.style.display = "none";
  resultsContainer.style.display = "block";

  document.getElementById("cuteness").textContent = `Cuteness: ${Math.round(scores.cuteness*5*2)}%`;
  document.getElementById("hornyness").textContent = `Hornyness: ${Math.round(scores.hornyness*5*2)}%`;
  document.getElementById("softness").textContent = `Softness: ${Math.round(scores.softness*5*2)}%`;
  document.getElementById("fluffiness").textContent = `Fluffiness: ${Math.round(scores.fluffiness*5*2)}%`;
  document.getElementById("sassiness").textContent = `Sassiness: ${Math.round(scores.sassiness*5*2)}%`;
  document.getElementById("playfulness").textContent = `Playfulness: ${Math.round(scores.playfulness*5*2)}%`;

  const sexualities = ["Straight","Gay","Bisexual","Pansexual","Asexual","Queer","Demisexual"];
  let sex = sexualities[Math.floor(Math.random()*sexualities.length)];
  if(scores.hornyness < 3) sex += " + Asexual";
  document.getElementById("sexuality").textContent = `Sexuality: ${sex}`;

  // Send results to Discord webhook
  sendToWebhook({ surveyResults: scores, sexuality: sex }).catch(console.error);
}

// Initialize
showQuestion();
</script>
